(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ea8a8e2"],{"0b16":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isAnySimilar?r("div",[e.product?r("div",[e._l(e.similarGroups,(function(t,i){return[e.isMediaTypeHasSimilarGroup(t)&&t.totalCount?r("SectionSimilarGroup",{key:i,staticClass:"mb-5",attrs:{elements:t.elements,similarType:i,totalCount:t.totalCount,faces:t.faces,loading:t.loading,viewAllUrl:e.viewAllUrl(i),showAll:e.showAllElements,showDivider:""},on:{"face-change":e.updateModelResults},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n          "+e._s(e.similarGroupTitle(t))+"\n        ")]},proxy:!0}],null,!0)}):e._e()]}))],2):e._e()]):r("div",{staticClass:"text-center my-5"},[r("ProductIcon",{staticClass:"mb-3",attrs:{productType:e.mediaType||"motionelements",size:"3x"}}),r("h3",{staticClass:"h5"},[e._v("\n    "+e._s(this.$t("search.similar_no_results_text"))+"\n  ")])],1)},a=[],s=r("94ea"),n=r("7201"),o=r("66eb");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t=p(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=d(e,"string");return"symbol"===c(t)?t:String(t)}function d(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _={name:"SimilarResults",components:{SectionSimilarGroup:function(){return r.e("chunk-78f991b6").then(r.bind(null,"ce7bf"))},ProductIcon:function(){return r.e("chunk-ab528312").then(r.bind(null,"ccea"))}},mixins:[o["a"]],props:{elements:Array},data:function(){return{loading:!1,similarGroups:{default:{title:this.$t("search.similar_visually"),availableMediaTypeGroups:["image","video","music","ae","pr","fcp","resolve","3d"],totalCount:0,elements:[],loading:!1},model:{title:this.$t("search.similar_model"),availableMediaTypeGroups:["video_live","photo"],totalCount:0,faces:[],elements:[],loading:!1},artist:{title:this.$t("search.similar_contributor"),availableMediaTypeGroups:["video_template"],totalCount:0,elements:[],loading:!1}}}},computed:u(u(u({},Object(s["d"])({product:function(e){return e.search.similarToProduct},mediaType:function(e){return e.search.mediaType}})),Object(s["c"])({getMediaTypeGroup:"search/getMediaTypeGroup"})),{},{isAnySimilar:function(){var e=this;return Object.values(this.similarGroups).map((function(t){if(e.isMediaTypeHasSimilarGroup(t))return t.totalCount})).some((function(e){return e>0}))},notEmptySimilarGroups:function(){var e=this,t=[];return Object.keys(this.similarGroups).forEach((function(r){e.similarGroups[r].totalCount>0&&t.push(m({},r,e.similarGroups[r].totalCount))})),this.$store.commit("search/setSimilarGroups",t),t},isMediaTypeHasSimilarGroup:function(){return function(e){var t=this;return e.availableMediaTypeGroups.some((function(e){return Object(n["e"])(e,t.mediaType)}))}},similarParameters:function(){var e,t=this;return function(r){switch(r){case"model":return e={similar_type:"face"},t.selectedSimilarFaceId?u(u({},e),{},{similar_face_id:t.selectedSimilarFaceId}):e;case"location":return{similar_type:"location"};case"artist":return{contributor:t.product.artist.username}}}},selectedSimilarFaceId:function(){var e=this.similarGroups.model.faces.length?this.similarGroups.model.faces.find((function(e){return e.active})):null;return e?e.faceId:null},viewAllUrl:function(){var e=this;return function(t){var r=e.$link("/search/".concat(e.mediaType.replace("_","-"))).fullPath(),i=e.$route.query;switch(t){case"model":return e.$router.resolve({path:r,query:u(u({},i),{},{similar_type:"face",similar:e.product.id})}).href;case"location":return e.$router.resolve({path:r,query:u(u({},i),{},{similar_type:"location",similar:e.product.id})}).href;case"artist":return e.$router.resolve({path:r,query:u(u({},i),{},{by:e.product.artist.username,similar:e.product.id})}).href;default:return e.$router.resolve({path:r,query:u(u({},i),{},{similar:e.product.id})}).href}}},similarGroupTitle:function(){var e=this;return function(t){return Object(n["e"])("music",e.mediaType)?e.$t("search.similar_music"):t.title}},showAllElements:function(){return 1===this.notEmptySimilarGroups.length&&!this.loading}}),created:function(){var e=this;this.isFeatureEnabled("hide_image_similar_model_search_results")&&Object(n["e"])("image",this.mediaType)&&delete this.similarGroups.model,this.loading=!0,this.$route.query.similar||this.$router.push({path:"/search/".concat(this.mediaType.replace("_","-")),query:this.$route.query}),this.similarGroups.default.elements=this.elements,this.similarGroups.default.totalCount=this.elements.length,this.getAllSimilarElementsPromiseAll().finally((function(){e.loading=!1}))},methods:{getSimilarElements:function(e){var t=this;return this.similarGroups[e].loading=!0,this.similarGroups[e].totalCount=1,this.$store.dispatch("search/searchSimilarElements",this.similarParameters(e)).then((function(r){var i=r.data,a=i.data,s=i.totalCount,n=i.faces;"model"===e&&(t.similarGroups.model.faces=n),t.similarGroups[e].elements=a,t.similarGroups[e].totalCount=s})).catch((function(r){t.similarGroups[e].totalCount=0})).finally((function(){t.similarGroups[e].loading=!1}))},getAllSimilarElements:function(){var e=this;return Object.keys(this.similarGroups).filter((function(e){return"default"!==e})).map((function(t){if(e.isMediaTypeHasSimilarGroup(e.similarGroups[t]))return e.getSimilarElements(t)}))},getAllSimilarElementsPromiseAll:function(){return Promise.all(this.getAllSimilarElements())},updateModelResults:function(e){this.similarGroups.model.faces.forEach((function(t){t.active=t.faceId===e})),this.getSimilarElements("model")}}},f=_,h=r("2877"),y=Object(h["a"])(f,i,a,!1,null,null,null);t["default"]=y.exports},"66eb":function(e,t,r){"use strict";var i=r("9593"),a=!0,s=!1,n=Object(i["a"])(),o=n.internal;t["a"]={methods:{isFeatureEnabled:function(e){switch(e){case"personalized_navbar":case"referral_report":case"search_similar_face":case"library_download":case"elastic_search_2020_01":case"disable_paypal_for_twd":case"contributor_new_media_types":case"monthly_subscription":case"midjourney_prompt":case"buyer_new_media_types":case"buyer_midjourney_prompt":case"change_license":case"corporate_redesign_2023":case"image_prompt_channel":case"image_prompt_contributor":case"account_redesign_2023":case"account_redesign_settings_2023":case"account_redesign_purchase_2023":case"subscription_checkout_payment_methods_redesign_2023":return!0;case"send_for_review":return!a||o;case"filter_collection":case"media_player":case"music_new_categories":case"regenerate_previews":case"sort_popular_local":case"new_paypal":case"search_result_scores":case"studio-ai-style-transfer-custom":return!a;case"cancelling_subscription_feedback":case"audio_stems":case"artist_profile_picture_edit":case"settings_tab_for_contributor":case"artist_element_counts":case"gcp_promo_new_ui":case"deprecate_collections":case"contributor_report_views":case"contributor_report_favorites":case"unlimited_subscription_header":case"contributor_redesign_2023":case"contributor-sidebar-no-products":case"meilisearch":case"exclude_ai_generated":case"library_deleted_items":case"transitioned_products":case"login_signup_redesign_2023":case"hide_image_similar_model_search_results":return!0;case"tw_vat_invoice":case"hero_program":case"upload_vector_preview":case"auth-modals":case"set_default_payment_method":case"facebook_share":case"google_login_signup":case"delete_contributor_account_2024":return!1;case"subscription_new_price_jp":case"subscription_new_price_kr":return!0;case"recaptcha":return!s&&(a||["staging"].includes("production"));case"quote":case"credits_purchase":default:return!1}}}}}}]);
//# sourceMappingURL=chunk-9ea8a8e2.3c45bd05.js.map